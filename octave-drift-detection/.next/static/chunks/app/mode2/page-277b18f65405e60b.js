(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[94],{313:(e,t,r)=>{"use strict";r.d(t,{GS:()=>o,Vc:()=>l,k$:()=>i,pL:()=>d,uu:()=>s});let a="http://localhost:5000/api";async function s(){let e=await fetch("".concat(a,"/mode1/metrics"));if(!e.ok)throw Error("Failed to fetch mode1 KPIs");let t=await e.json();return t.kpis?t.kpis.map(e=>({rowKey:e.rowKey,value:e.value,status:e.status})):[]}async function l(){let e=await fetch("".concat(a,"/mode2/metrics"));if(!e.ok)throw Error("Failed to fetch mode2 KPIs");let t=await e.json();return t.kpis?t.kpis.map(e=>({rowKey:e.rowKey,value:e.value,status:e.status})):[]}async function d(){let e=await fetch("".concat(a,"/mode1/xai"));if(!e.ok)throw Error("Failed to fetch mode1 XAI data");return await e.text()}async function i(){let e=await fetch("".concat(a,"/mode2/xai"));if(!e.ok)throw Error("Failed to fetch mode2 XAI data");return await e.text()}async function o(){try{var e,t;let r=await fetch("".concat(a,"/errors"));if(!r.ok)return{plotData:[],tableData:[]};let s=await r.json(),l=Array.isArray(s)?{plotData:[],tableData:s}:s;return{plotData:(null===(e=l.plotData)||void 0===e?void 0:e.map(e=>({x:e.timePeriod||"",y:e.error||0,exceedsThreshold:e.exceedsThreshold||!1})))||[],tableData:(null===(t=l.tableData)||void 0===t?void 0:t.map(e=>({id:e.id||"ERR-".concat(Date.now()),timePeriod:e.timePeriod||"",meanPrediction:e.meanPrediction||0,error:e.error||0,percentageError:e.percentageError||0,status:e.exceedsThreshold?"Alert":"Normal"})))||[]}}catch(e){return{plotData:[],tableData:[]}}}},2952:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r(5155),s=r(2115),l=r(1835),d=r(8126),i=r.n(d),o=r(313);function n(){var e,t,r,d,n,c,x,u;let m=(0,s.useRef)(null),[h]=(0,s.useState)(["CCS","JMSL"]),[b]=(0,s.useState)({CCS:["CC-Di","CC-MT"],JMSL:["JM-Ch"]}),[p,g]=(0,s.useState)(""),[f,v]=(0,s.useState)(""),[w,j]=(0,s.useState)([]),[N,y]=(0,s.useState)([]),[k,C]=(0,s.useState)(""),[D,E]=(0,s.useState)(!0);return(0,s.useEffect)(()=>{(async()=>{try{let[e,t,r]=await Promise.all([(0,o.Vc)(),(0,o.GS)(),(0,o.k$)()]);j(e),y(t.tableData),C(r||"No explanation available")}catch(e){console.error("Error loading data:",e)}finally{E(!1)}})()},[]),(0,a.jsxs)("div",{className:"bg-gray-900 min-h-screen flex flex-col",children:[(0,a.jsx)(i(),{children:(0,a.jsx)("title",{children:"Mode 2 | Business Dashboard"})}),(0,a.jsxs)("main",{className:"flex-grow container mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 mb-6 border border-gray-700",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-blue-300 mb-4",children:"OCTAVE - RG Dashboard"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Business Unit"}),(0,a.jsx)("select",{className:"w-full bg-gray-700 border-blue-600 rounded p-2 text-white",value:p,onChange:e=>{let t=e.target.value;g(t),v(""),localStorage.setItem("businessUnit",t)},children:h.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Use Case"}),(0,a.jsx)("select",{className:"w-full bg-gray-700 border-blue-600 rounded p-2 text-white",value:f,onChange:e=>{let t=e.target.value;v(t),localStorage.setItem("useCase",t)},disabled:!p,children:p&&(null===(e=b[p])||void 0===e?void 0:e.map(e=>(0,a.jsx)("option",{value:e,children:e},e)))})]}),(0,a.jsxs)("div",{className:"bg-blue-900/30 p4 rounded-lg border border-blue-800/50",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Short Code"}),(0,a.jsx)("input",{type:"text",value:p&&f?"".concat(p.substring(0,2),"-").concat(f.substring(0,2)):"-",readOnly:!0,className:"w-full bg-gray-700 border-blue-600 rounded p-2 text-white"})]}),(0,a.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Runtime"}),(0,a.jsx)("input",{type:"text",value:"2h 45m",readOnly:!0,className:"w-full bg-gray-700 border-blue-600 rounded p-2 text-white"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Current Alert Time"}),(0,a.jsx)("p",{className:"text-xl",children:D?"Loading...":(null===(t=w.find(e=>"alertTime"===e.rowKey))||void 0===t?void 0:t.value)||"N/A"})]}),(0,a.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"No. of Runtime"}),(0,a.jsx)("p",{className:"text-xl",children:D?"Loading...":(null===(r=w.find(e=>"runtimeCount"===e.rowKey))||void 0===r?void 0:r.value)||"0"})]}),(0,a.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Alert Keeper"}),(0,a.jsx)("p",{className:"text-xl",children:D?"Loading...":(null===(d=w.find(e=>"alertKeeper"===e.rowKey))||void 0===d?void 0:d.value)||"N/A"})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 mb-6 border border-gray-700",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-blue-300 mb-4",children:"Drift Warning Plot"}),(0,a.jsx)("div",{className:"h-64 bg-gray-700 rounded p-4",children:D?(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)("div",{className:"text-white",children:"Loading drift warnings..."})}):(0,a.jsx)("div",{className:"relative h-full",children:(0,a.jsx)("canvas",{id:"driftWarningChart",className:"w-full h-full",ref:e=>{if(e&&!D){let t=e.getContext("2d");t&&(m.current&&m.current.destroy(),m.current=new l.t1(t,{type:"line",data:{labels:N.map((e,t)=>"Data Point ".concat(t+1)),datasets:[{label:"Drift",data:w.filter(e=>e.rowKey.includes("currentDrift")).map(e=>parseFloat(e.value)),borderColor:"rgb(239, 68, 68)",backgroundColor:"rgba(239, 68, 68, 0.1)",tension:.1,fill:!0}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#e5e7eb"}},tooltip:{mode:"index",intersect:!1}},scales:{x:{title:{display:!0,text:"Data Points",color:"#93c5fd",font:{weight:"bold"}},grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#e5e7eb",font:{size:12}}},y:{title:{display:!0,text:"Drift Value",color:"#93c5fd",font:{weight:"bold"}},beginAtZero:!0,grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#e5e7eb",font:{size:12},callback:e=>"number"==typeof e?e.toFixed(2):e}}},animation:{duration:1e3,easing:"easeInOutQuad"},elements:{point:{radius:4,hoverRadius:6}}}}))}}})})})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 mb-6 border border-gray-700",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-blue-300 mb-4",children:"Hyperparameters"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Hyperparameters"}),(0,a.jsx)("p",{className:"text-xl",children:D?"Loading...":(null===(n=w.find(e=>"hyperparameters"===e.rowKey))||void 0===n?void 0:n.value)||"N/A"})]}),(0,a.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Status"}),(0,a.jsx)("p",{className:"text-xl ".concat(D?"":(null===(c=w.find(e=>"status"===e.rowKey))||void 0===c?void 0:c.value)==="Warning"?"text-yellow-400":(null===(x=w.find(e=>"status"===e.rowKey))||void 0===x?void 0:x.value)==="Error"?"text-red-400":"text-green-400"),children:D?"Loading...":(null===(u=w.find(e=>"status"===e.rowKey))||void 0===u?void 0:u.value)||"N/A"})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 mb-6 border border-gray-700",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-blue-300 mb-4",children:"XAI Result"}),D?(0,a.jsx)("div",{className:"text-white",children:"Loading XAI explanation..."}):(0,a.jsx)("div",{className:"space-y-3 text-white",children:(0,a.jsx)("p",{children:k})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 border border-gray-700",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-blue-300 mb-4",children:"Error Comparison"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-700",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-200 uppercase tracking-wider",children:"ID"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-200 uppercase tracking-wider",children:"Time Period"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-200 uppercase tracking-wider",children:"Error"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-700",children:N.slice(0,5).map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:t+1}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.timePeriod}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-400",children:e.error})]},t))})]})})]}),(0,a.jsxs)("div",{className:"bg-red-900/20 rounded-xl shadow-md overflow-hidden p-6 border border-red-800/50",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-red-300 mb-4",children:"Threshold Exceedances"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-red-800/50",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-200 uppercase tracking-wider",children:"ID"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-200 uppercase tracking-wider",children:"Error %"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-200 uppercase tracking-wider",children:"Exceeds"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-red-800/50",children:N.filter(e=>"Alert"===e.status).slice(0,5).map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:t+1}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:[e.percentageError,"%"]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-300",children:"Alert"===e.status?"Yes":"No"})]},t))})]})})]})]})]})]})}l.t1.register(...l.$L)},4110:(e,t,r)=>{Promise.resolve().then(r.bind(r,2952))}},e=>{var t=t=>e(e.s=t);e.O(0,[178,589,441,684,358],()=>t(4110)),_N_E=e.O()}]);