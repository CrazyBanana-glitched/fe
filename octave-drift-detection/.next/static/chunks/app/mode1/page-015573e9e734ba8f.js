(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[447],{313:(e,t,r)=>{"use strict";r.d(t,{GS:()=>o,Vc:()=>s,k$:()=>i,pL:()=>d,uu:()=>l});let a="http://localhost:5000/api";async function l(){let e=await fetch("".concat(a,"/mode1/metrics"));if(!e.ok)throw Error("Failed to fetch mode1 KPIs");let t=await e.json();return t.kpis?t.kpis.map(e=>({rowKey:e.rowKey,value:e.value,status:e.status})):[]}async function s(){let e=await fetch("".concat(a,"/mode2/metrics"));if(!e.ok)throw Error("Failed to fetch mode2 KPIs");let t=await e.json();return t.kpis?t.kpis.map(e=>({rowKey:e.rowKey,value:e.value,status:e.status})):[]}async function d(){let e=await fetch("".concat(a,"/mode1/xai"));if(!e.ok)throw Error("Failed to fetch mode1 XAI data");return await e.text()}async function i(){let e=await fetch("".concat(a,"/mode2/xai"));if(!e.ok)throw Error("Failed to fetch mode2 XAI data");return await e.text()}async function o(){try{var e,t;let r=await fetch("".concat(a,"/errors"));if(!r.ok)return{plotData:[],tableData:[]};let l=await r.json(),s=Array.isArray(l)?{plotData:[],tableData:l}:l;return{plotData:(null===(e=s.plotData)||void 0===e?void 0:e.map(e=>({x:e.timePeriod||"",y:e.error||0,exceedsThreshold:e.exceedsThreshold||!1})))||[],tableData:(null===(t=s.tableData)||void 0===t?void 0:t.map(e=>({id:e.id||"ERR-".concat(Date.now()),timePeriod:e.timePeriod||"",meanPrediction:e.meanPrediction||0,error:e.error||0,percentageError:e.percentageError||0,status:e.exceedsThreshold?"Alert":"Normal"})))||[]}}catch(e){return{plotData:[],tableData:[]}}}},933:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r(5155),l=r(2115),s=r(1835),d=r(8126),i=r.n(d),o=r(313);function n(){var e,t,r,d,n,c,m,x,u,h,b;let p=(0,l.useRef)(null),[g,v]=(0,l.useState)(["CCS","JMSL"]),[f,j]=(0,l.useState)({CCS:["CC-Di","CC-MT"],JMSL:["JM-Ch"]}),[N,w]=(0,l.useState)(""),[y,E]=(0,l.useState)(""),[D,P]=(0,l.useState)([]),[k,S]=(0,l.useState)({plotData:[],tableData:[]}),[A,C]=(0,l.useState)(""),[K,T]=(0,l.useState)(null),[L,R]=(0,l.useState)(!0),M=async()=>{R(!0),T(null);try{var e,t;let r=localStorage.getItem("businessUnit"),a=localStorage.getItem("useCase");r&&w(r),a&&E(a);let[l,s,d]=await Promise.all([(0,o.uu)(),(0,o.GS)(),(0,o.pL)()]),i={plotData:Array.isArray(s)?s.map(e=>({x:e.timePeriod||"",y:e.error||0,exceedsThreshold:e.exceedsThreshold||!1})):(null==s?void 0:null===(e=s.plotData)||void 0===e?void 0:e.map(e=>({x:e.timePeriod||"",y:e.error||0,exceedsThreshold:e.exceedsThreshold||!1})))||[],tableData:Array.isArray(s)?s.map(e=>({id:e.id||"ERR-".concat(Date.now()),timePeriod:e.timePeriod||"",meanPrediction:e.meanPrediction||0,error:e.error||0,percentageError:e.percentageError||0,status:e.exceedsThreshold?"Alert":"Normal"})):(null==s?void 0:null===(t=s.tableData)||void 0===t?void 0:t.map(e=>({id:e.id||"ERR-".concat(Date.now()),timePeriod:e.timePeriod||"",meanPrediction:e.meanPrediction||0,error:e.error||0,percentageError:e.percentageError||0,status:e.exceedsThreshold?"Alert":"Normal"})))||[]};P(l),S(i),C(d||"No explanation available"),console.log("Data loaded successfully:",{kpiData:l,errorData:s,xaiData:d})}catch(t){console.error("Error loading data:",t);let e=Array.from({length:10},(e,t)=>({id:"ERR-SAMPLE-".concat(t+1),timePeriod:"2023-01-".concat(String(t+1).padStart(2,"0")),meanPrediction:100*Math.random(),error:20*Math.random(),exceedsThreshold:Math.random()>.7,percentageError:30*Math.random()}));P([{rowKey:"alertTime",value:"Sample Time"},{rowKey:"runtimeCount",value:"5"},{rowKey:"alertKeeper",value:"Sample User"}]),S({plotData:e.map(e=>({x:e.timePeriod,y:e.error,exceedsThreshold:e.exceedsThreshold})),tableData:e.map(e=>({id:e.id,timePeriod:e.timePeriod,meanPrediction:e.meanPrediction,error:e.error,percentageError:e.percentageError,status:e.exceedsThreshold?"Alert":"Normal"}))}),C("Sample explanation: The model shows moderate drift with 5.2% precision change and -2.1% recall change")}finally{R(!1)}};return(0,l.useEffect)(()=>{M()},[]),(0,a.jsxs)("div",{className:"bg-gray-900 min-h-screen flex flex-col",children:[(0,a.jsx)(i(),{children:(0,a.jsx)("title",{children:"Mode 1 | Business Dashboard"})}),(0,a.jsxs)("main",{className:"flex-grow container mx-auto px-4 py-8",children:[K&&(0,a.jsxs)("div",{className:"bg-red-900/50 border border-red-700 rounded-lg p-4 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("svg",{className:"h-5 w-5 text-red-300 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-red-300",children:"Backend Error"})]}),(0,a.jsx)("p",{className:"mt-2 text-red-200",children:K}),(0,a.jsx)("p",{className:"mt-2 text-red-200 text-sm",children:"Displaying fallback data. Some features may be limited."}),(0,a.jsx)("button",{onClick:()=>M(),className:"mt-3 px-4 py-2 bg-red-800/50 hover:bg-red-800 text-white rounded-md text-sm font-medium",children:"Retry Connection"})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 mb-6 border border-gray-700",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-blue-300 mb-4",children:"OCTAVE - RG Dashboard"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Business Unit"}),(0,a.jsx)("select",{className:"w-full bg-gray-700 border-blue-600 rounded p-2 text-white",value:N,onChange:e=>{let t=e.target.value;w(t),E(""),localStorage.setItem("businessUnit",t)},children:g.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Use Case"}),(0,a.jsx)("select",{className:"w-full bg-gray-700 border-blue-600 rounded p-2 text-white",value:y,onChange:e=>{let t=e.target.value;E(t),localStorage.setItem("useCase",t)},disabled:!N,children:N&&(null===(e=f[N])||void 0===e?void 0:e.map(e=>(0,a.jsx)("option",{value:e,children:e},e)))})]}),(0,a.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Short Code"}),(0,a.jsx)("input",{type:"text",value:N&&y?"".concat(N.substring(0,2),"-").concat(y.substring(0,2)):"-",readOnly:!0,className:"w-full bg-gray-700 border-blue-600 rounded p-2 text-white"})]}),(0,a.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Runtime"}),(0,a.jsx)("input",{type:"text",value:"2h 45m",readOnly:!0,className:"w-full bg-gray-700 border-blue-600 rounded p-2 text-white"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Current Alert Time"}),(0,a.jsx)("p",{className:"text-xl",children:L?"Loading...":(null===(t=D.find(e=>"alertTime"===e.rowKey))||void 0===t?void 0:t.value)||"N/A"})]}),(0,a.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"No. of Runtime"}),(0,a.jsx)("p",{className:"text-xl",children:L?"Loading...":(null===(r=D.find(e=>"runtimeCount"===e.rowKey))||void 0===r?void 0:r.value)||"0"})]}),(0,a.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Alert Keeper"}),(0,a.jsx)("p",{className:"text-xl",children:L?"Loading...":(null===(d=D.find(e=>"alertKeeper"===e.rowKey))||void 0===d?void 0:d.value)||"N/A"})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 mb-6 border border-gray-700",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-blue-300 mb-4",children:"MAPE/MSE Plot"}),(0,a.jsx)("div",{className:"h-64 bg-gray-700 rounded p-4",children:L?(0,a.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,a.jsx)("div",{className:"text-white",children:"Loading plot data..."})}):(0,a.jsx)("div",{className:"relative h-full",children:(0,a.jsx)("canvas",{id:"mapeMseChart",className:"w-full h-full",ref:e=>{if(e&&!L){let t=e.getContext("2d");t&&(p.current&&p.current.destroy(),p.current=new s.t1(t,{type:"line",data:{labels:k.plotData.map(e=>e.x),datasets:[{label:"Error Values",data:k.plotData.map(e=>e.y),borderColor:"rgb(75, 192, 192)",backgroundColor:k.plotData.map(e=>e.exceedsThreshold?"rgba(255, 99, 132, 0.5)":"rgba(54, 162, 235, 0.5)"),borderWidth:2,tension:.1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#e5e7eb"}},tooltip:{mode:"index",intersect:!1}},scales:{x:{title:{display:!0,text:"Data Points",color:"#93c5fd",font:{weight:"bold"}},grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#e5e7eb",font:{size:12}}},y:{title:{display:!0,text:"Error Value",color:"#93c5fd",font:{weight:"bold"}},beginAtZero:!0,grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#e5e7eb",font:{size:12},callback:e=>"number"==typeof e?e.toFixed(2):e}}},animation:{duration:1e3,easing:"easeInOutQuad"},elements:{point:{radius:4,hoverRadius:6}}}}))}}})})})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 mb-6 border border-gray-700",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-blue-300 mb-4",children:"Key Performance Indicators"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,a.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"KStest"}),(0,a.jsx)("p",{className:"text-xl",children:L?"Loading...":(null===(n=D.find(e=>"kstest"===e.rowKey))||void 0===n?void 0:n.value)||"N/A"})]}),(0,a.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Wasserstein"}),(0,a.jsx)("p",{className:"text-xl",children:L?"Loading...":(null===(c=D.find(e=>"wasserstein"===e.rowKey))||void 0===c?void 0:c.value)||"N/A"})]}),(0,a.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Ref MSE"}),(0,a.jsx)("p",{className:"text-xl",children:L?"Loading...":(null===(m=D.find(e=>"mseRef"===e.rowKey))||void 0===m?void 0:m.value)||"N/A"})]}),(0,a.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"MSE"}),(0,a.jsx)("p",{className:"text-xl",children:L?"Loading...":(null===(x=D.find(e=>"mseCurrent"===e.rowKey))||void 0===x?void 0:x.value)||"N/A"})]}),(0,a.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Status"}),(0,a.jsx)("p",{className:"text-xl ".concat(L?"":(null===(u=D.find(e=>"status"===e.rowKey))||void 0===u?void 0:u.value)==="Warning"?"text-yellow-400":(null===(h=D.find(e=>"status"===e.rowKey))||void 0===h?void 0:h.value)==="Error"?"text-red-400":"text-green-400"),children:L?"Loading...":(null===(b=D.find(e=>"status"===e.rowKey))||void 0===b?void 0:b.value)||"N/A"})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 mb-6 border border-gray-700",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-blue-300 mb-4",children:"XAI Result"}),(0,a.jsx)("div",{className:"space-y-3 text-white",children:L?(0,a.jsx)("p",{children:"Loading XAI explanation..."}):A?(0,a.jsx)("p",{children:A}):(0,a.jsx)("p",{className:"text-red-400",children:"No explanation available"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 border border-gray-700",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-blue-300 mb-4",children:"Error Comparison"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-700",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-200 uppercase tracking-wider",children:"ID"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-200 uppercase tracking-wider",children:"Time Period"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-200 uppercase tracking-wider",children:"Error"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-700",children:k.tableData.slice(0,5).map((e,t)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.id}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.timePeriod}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-400",children:e.error.toFixed(2)})]},e.id))})]})})]}),(0,a.jsxs)("div",{className:"bg-red-900/20 rounded-xl shadow-md overflow-hidden p-6 border border-red-800/50",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-red-300 mb-4",children:"Threshold Exceedances"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-red-800/50",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-200 uppercase tracking-wider",children:"ID"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-200 uppercase tracking-wider",children:"Error %"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-200 uppercase tracking-wider",children:"Exceeds"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-red-800/50",children:k.tableData.filter(e=>"Alert"===e.status).slice(0,5).map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.id}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:[e.percentageError.toFixed(2),"%"]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-300",children:"Alert"===e.status?"Yes":"No"})]},e.id))})]})})]})]})]})]})}s.t1.register(...s.$L)},2503:(e,t,r)=>{Promise.resolve().then(r.bind(r,933))}},e=>{var t=t=>e(e.s=t);e.O(0,[178,589,441,684,358],()=>t(2503)),_N_E=e.O()}]);