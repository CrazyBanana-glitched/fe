(()=>{var e={};e.id=447,e.ids=[447],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},4167:(e,r,t)=>{Promise.resolve().then(t.bind(t,9705))},6403:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(687),a=t(3210),l=t(2561),d=t(5282),i=t.n(d),o=t(167);function n(){let e=(0,a.useRef)(null),[r,t]=(0,a.useState)(["CCS","JMSL"]),[d,n]=(0,a.useState)({CCS:["CC-Di","CC-MT"],JMSL:["JM-Ch"]}),[c,x]=(0,a.useState)(""),[m,u]=(0,a.useState)(""),[h,p]=(0,a.useState)([]),[b,g]=(0,a.useState)({plotData:[],tableData:[]}),[f,N]=(0,a.useState)(""),[v,j]=(0,a.useState)(null),[y,w]=(0,a.useState)(!0),S=async()=>{w(!0),j(null);try{let e=localStorage.getItem("businessUnit"),r=localStorage.getItem("useCase");e&&x(e),r&&u(r);let[t,s,a]=await Promise.all([(0,o.uu)(),(0,o.GS)(),(0,o.pL)()]),l={plotData:Array.isArray(s)?s.map(e=>({x:e.timePeriod||"",y:e.error||0,exceedsThreshold:e.exceedsThreshold||!1})):s?.plotData?.map(e=>({x:e.timePeriod||"",y:e.error||0,exceedsThreshold:e.exceedsThreshold||!1}))||[],tableData:Array.isArray(s)?s.map(e=>({id:e.id||`ERR-${Date.now()}`,timePeriod:e.timePeriod||"",meanPrediction:e.meanPrediction||0,error:e.error||0,percentageError:e.percentageError||0,status:e.exceedsThreshold?"Alert":"Normal"})):s?.tableData?.map(e=>({id:e.id||`ERR-${Date.now()}`,timePeriod:e.timePeriod||"",meanPrediction:e.meanPrediction||0,error:e.error||0,percentageError:e.percentageError||0,status:e.exceedsThreshold?"Alert":"Normal"}))||[]};p(t),g(l),N(a||"No explanation available"),console.log("RAW BACKEND RESPONSES:",{kpiData:JSON.parse(JSON.stringify(t)),errorData:JSON.parse(JSON.stringify(s)),xaiData:JSON.parse(JSON.stringify(a))})}catch(r){console.error("Error loading data - full error:",r),r instanceof Error?j(`Failed to load data: ${r.message}`):j("Failed to load data: Unknown error");let e=Array.from({length:10},(e,r)=>({id:`ERR-SAMPLE-${r+1}`,timePeriod:`2023-01-${String(r+1).padStart(2,"0")}`,meanPrediction:100*Math.random(),error:20*Math.random(),exceedsThreshold:Math.random()>.7,percentageError:30*Math.random()}));p([{rowKey:"alertTime",value:new Date().toISOString(),status:"Normal"},{rowKey:"runtimeCount",value:"5",status:"Normal"},{rowKey:"alertKeeper",value:"Sample User",status:"Normal"},{rowKey:"kstest",value:"0.12",status:"Normal"},{rowKey:"wasserstein",value:"0.08",status:"Normal"},{rowKey:"mseRef",value:"0.25",status:"Normal"},{rowKey:"mseCurrent",value:"0.32",status:"Warning"},{rowKey:"status",value:"Warning",status:"Warning"}]),g({plotData:e.map(e=>({x:e.timePeriod,y:e.error,exceedsThreshold:e.exceedsThreshold})),tableData:e.map(e=>({id:e.id,timePeriod:e.timePeriod,meanPrediction:e.meanPrediction,error:e.error,percentageError:e.percentageError,status:e.exceedsThreshold?"Alert":"Normal"}))}),N("Sample explanation: The model shows moderate drift with 5.2% precision change and -2.1% recall change")}finally{w(!1)}};return(0,s.jsxs)("div",{className:"bg-gray-900 min-h-screen flex flex-col",children:[(0,s.jsx)(i(),{children:(0,s.jsx)("title",{children:"Mode 1 | Business Dashboard"})}),(0,s.jsxs)("main",{className:"flex-grow container mx-auto px-4 py-8",children:[v&&(0,s.jsxs)("div",{className:"bg-red-900/50 border border-red-700 rounded-lg p-4 mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("svg",{className:"h-5 w-5 text-red-300 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,s.jsx)("h3",{className:"text-lg font-medium text-red-300",children:"Backend Error"})]}),(0,s.jsx)("p",{className:"mt-2 text-red-200",children:v}),(0,s.jsx)("p",{className:"mt-2 text-red-200 text-sm",children:"Displaying fallback data. Some features may be limited."}),(0,s.jsx)("button",{onClick:()=>S(),className:"mt-3 px-4 py-2 bg-red-800/50 hover:bg-red-800 text-white rounded-md text-sm font-medium",children:"Retry Connection"})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 mb-6 border border-gray-700",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-blue-300 mb-4",children:"OCTAVE - RG Dashboard"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,s.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Business Unit"}),(0,s.jsx)("select",{className:"w-full bg-gray-700 border-blue-600 rounded p-2 text-white",value:c,onChange:e=>{let r=e.target.value;x(r),u(""),localStorage.setItem("businessUnit",r)},children:r.map(e=>(0,s.jsx)("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Use Case"}),(0,s.jsx)("select",{className:"w-full bg-gray-700 border-blue-600 rounded p-2 text-white",value:m,onChange:e=>{let r=e.target.value;u(r),localStorage.setItem("useCase",r)},disabled:!c,children:c&&d[c]?.map(e=>s.jsx("option",{value:e,children:e},e))})]}),(0,s.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Short Code"}),(0,s.jsx)("input",{type:"text",value:c&&m?`${c.substring(0,2)}-${m.substring(0,2)}`:"-",readOnly:!0,className:"w-full bg-gray-700 border-blue-600 rounded p-2 text-white"})]}),(0,s.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Runtime"}),(0,s.jsx)("input",{type:"text",value:"2h 45m",readOnly:!0,className:"w-full bg-gray-700 border-blue-600 rounded p-2 text-white"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Current Alert Time"}),(0,s.jsx)("p",{className:"text-xl",children:y?"Loading...":h.find(e=>"alertTime"===e.rowKey)?.value||"N/A"})]}),(0,s.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"No. of Runtime"}),(0,s.jsx)("p",{className:"text-xl",children:y?"Loading...":h.find(e=>"runtimeCount"===e.rowKey)?.value||"0"})]}),(0,s.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Alert Keeper"}),(0,s.jsx)("p",{className:"text-xl",children:y?"Loading...":h.find(e=>"alertKeeper"===e.rowKey)?.value||"N/A"})]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 mb-6 border border-gray-700",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-blue-300 mb-4",children:"MAPE/MSE Plot"}),(0,s.jsx)("div",{className:"h-64 bg-gray-700 rounded p-4",children:y?(0,s.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,s.jsx)("div",{className:"text-white",children:"Loading plot data..."})}):(0,s.jsx)("div",{className:"relative h-full",children:(0,s.jsx)("canvas",{id:"mapeMseChart",className:"w-full h-full",ref:r=>{if(r&&!y){let t=r.getContext("2d");t&&(e.current&&e.current.destroy(),e.current=new l.t1(t,{type:"line",data:{labels:b.plotData.map(e=>e.x),datasets:[{label:"Error Values",data:b.plotData.map(e=>e.y),borderColor:"rgb(75, 192, 192)",backgroundColor:b.plotData.map(e=>e.exceedsThreshold?"rgba(255, 99, 132, 0.5)":"rgba(54, 162, 235, 0.5)"),borderWidth:2,tension:.1}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#e5e7eb"}},tooltip:{mode:"index",intersect:!1}},scales:{x:{title:{display:!0,text:"Data Points",color:"#93c5fd",font:{weight:"bold"}},grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#e5e7eb",font:{size:12}}},y:{title:{display:!0,text:"Error Value",color:"#93c5fd",font:{weight:"bold"}},beginAtZero:!0,grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{color:"#e5e7eb",font:{size:12},callback:e=>"number"==typeof e?e.toFixed(2):e}}},animation:{duration:1e3,easing:"easeInOutQuad"},elements:{point:{radius:4,hoverRadius:6}}}}))}}})})})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 mb-6 border border-gray-700",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-blue-300 mb-4",children:"Key Performance Indicators"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[(0,s.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"KStest"}),(0,s.jsx)("p",{className:"text-xl",children:y?"Loading...":h.find(e=>"kstest"===e.rowKey)?.value||"N/A"})]}),(0,s.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Wasserstein"}),(0,s.jsx)("p",{className:"text-xl",children:y?"Loading...":h.find(e=>"wasserstein"===e.rowKey)?.value||"N/A"})]}),(0,s.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Ref MSE"}),(0,s.jsx)("p",{className:"text-xl",children:y?"Loading...":h.find(e=>"mseRef"===e.rowKey)?.value||"N/A"})]}),(0,s.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"MSE"}),(0,s.jsx)("p",{className:"text-xl",children:y?"Loading...":h.find(e=>"mseCurrent"===e.rowKey)?.value||"N/A"})]}),(0,s.jsxs)("div",{className:"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50",children:[(0,s.jsx)("h3",{className:"text-lg font-medium text-blue-200 mb-2",children:"Status"}),(0,s.jsx)("p",{className:`text-xl ${y?"":h.find(e=>"status"===e.rowKey)?.value==="Warning"?"text-yellow-400":h.find(e=>"status"===e.rowKey)?.value==="Error"?"text-red-400":"text-green-400"}`,children:y?"Loading...":h.find(e=>"status"===e.rowKey)?.value||"N/A"})]})]})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 mb-6 border border-gray-700",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-blue-300 mb-4",children:"Debug Data"}),(0,s.jsx)("div",{className:"space-y-3 text-white text-xs overflow-auto max-h-60",children:(0,s.jsx)("pre",{children:JSON.stringify({kpis:h,errors:b,xaiExplanation:f},null,2)})})]}),(0,s.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 mb-6 border border-gray-700",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-blue-300 mb-4",children:"XAI Result"}),(0,s.jsx)("div",{className:"space-y-3 text-white",children:y?(0,s.jsx)("p",{children:"Loading XAI explanation..."}):f?(0,s.jsx)("p",{children:f}):(0,s.jsx)("p",{className:"text-red-400",children:"No explanation available"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 border border-gray-700",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-blue-300 mb-4",children:"Error Comparison"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-700",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-200 uppercase tracking-wider",children:"ID"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-200 uppercase tracking-wider",children:"Time Period"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-200 uppercase tracking-wider",children:"Error"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-700",children:b.tableData.slice(0,5).map((e,r)=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.id}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.timePeriod}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-400",children:e.error.toFixed(2)})]},e.id))})]})})]}),(0,s.jsxs)("div",{className:"bg-red-900/20 rounded-xl shadow-md overflow-hidden p-6 border border-red-800/50",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-red-300 mb-4",children:"Threshold Exceedances"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-red-800/50",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-200 uppercase tracking-wider",children:"ID"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-200 uppercase tracking-wider",children:"Error %"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-red-200 uppercase tracking-wider",children:"Exceeds"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-red-800/50",children:b.tableData.filter(e=>"Alert"===e.status).slice(0,5).map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:e.id}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:[e.percentageError.toFixed(2),"%"]}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-300",children:"Alert"===e.status?"Yes":"No"})]},e.id))})]})})]})]})]})]})}l.t1.register(...l.$L)},8895:(e,r,t)=>{Promise.resolve().then(t.bind(t,6403))},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9705:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/workspaces/fe/octave-drift-detection/src/app/mode1/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspaces/fe/octave-drift-detection/src/app/mode1/page.tsx","default")},9853:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>d.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>n});var s=t(5239),a=t(8088),l=t(8170),d=t.n(l),i=t(893),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(r,o);let n={children:["",{children:["mode1",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,9705)),"/workspaces/fe/octave-drift-detection/src/app/mode1/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,5912)),"/workspaces/fe/octave-drift-detection/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/workspaces/fe/octave-drift-detection/src/app/mode1/page.tsx"],x={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/mode1/page",pathname:"/mode1",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[506,448,512],()=>t(9853));module.exports=s})();