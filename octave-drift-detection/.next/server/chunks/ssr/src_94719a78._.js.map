{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/fe/octave-drift-detection/src/components/D3ConfusionMatrix.tsx"],"sourcesContent":["import React, { useRef, useEffect } from 'react'\r\nimport * as d3 from 'd3'\r\n\r\nexport interface D3ConfusionMatrixProps {\r\n  data: number[][]\r\n  labels: string[]\r\n  title?: string\r\n  width: number\r\n  height: number\r\n}\r\n\r\nconst D3ConfusionMatrix: React.FC<D3ConfusionMatrixProps> = ({\r\n  data,\r\n  labels,\r\n  title,\r\n  width,\r\n  height,\r\n}) => {\r\n  const svgRef = useRef<SVGSVGElement>(null)\r\n\r\n  useEffect(() => {\r\n    if (!data.length) return\r\n\r\n    const maxVal = d3.max(data.flat()) ?? 1\r\n    const margin = { top: title ? 30 : 10, right: 10, bottom: 10, left: 10 }\r\n    const innerW = width - margin.left - margin.right\r\n    const innerH = height - margin.top - margin.bottom\r\n\r\n    const x = d3\r\n      .scaleBand<string>()\r\n      .domain(labels)\r\n      .range([0, innerW])\r\n      .padding(0.05)\r\n\r\n    const y = d3\r\n      .scaleBand<string>()\r\n      .domain(labels)\r\n      .range([0, innerH])\r\n      .padding(0.05)\r\n\r\n    const color = d3\r\n      .scaleSequential(d3.interpolateBlues)\r\n      .domain([0, maxVal])\r\n\r\n    const svg = d3.select(svgRef.current!)\r\n    svg.selectAll('*').remove()\r\n    svg.attr('viewBox', `0 0 ${width} ${height}`)\r\n\r\n    // optional title\r\n    if (title) {\r\n      svg\r\n        .append('text')\r\n        .attr('x', width / 2)\r\n        .attr('y', margin.top / 2)\r\n        .attr('text-anchor', 'middle')\r\n        .style('fill', 'white')\r\n        .style('font-size', '14px')\r\n        .text(title)\r\n    }\r\n\r\n    const g = svg\r\n      .append('g')\r\n      .attr('transform', `translate(${margin.left},${margin.top})`)\r\n\r\n    // cells + centered text\r\n    data.forEach((row, i) => {\r\n      row.forEach((val, j) => {\r\n        const xpos = x(labels[j])!\r\n        const ypos = y(labels[i])!\r\n\r\n        g.append('rect')\r\n          .attr('x', xpos)\r\n          .attr('y', ypos)\r\n          .attr('width', x.bandwidth())\r\n          .attr('height', y.bandwidth())\r\n          .attr('fill', color(val))\r\n\r\n        g.append('text')\r\n          .attr('x', xpos + x.bandwidth() / 2)\r\n          .attr('y', ypos + y.bandwidth() / 2)\r\n          .attr('text-anchor', 'middle')\r\n          .attr('dominant-baseline', 'middle')\r\n          .style('font-size', `${Math.min(x.bandwidth(), y.bandwidth()) * 0.4}px`)\r\n          .attr('fill', val > maxVal / 2 ? 'white' : 'black')\r\n          .text(val)\r\n      })\r\n    })\r\n\r\n    // axes (no tick lines)\r\n    g.append('g')\r\n      .call(d3.axisTop(x).tickSize(0))\r\n      .selectAll('text')\r\n      .style('font-size', '10px')\r\n\r\n    g.append('g')\r\n      .call(d3.axisLeft(y).tickSize(0))\r\n      .selectAll('text')\r\n      .style('font-size', '10px')\r\n  }, [data, labels, width, height, title])\r\n\r\n  return (\r\n    <svg\r\n      ref={svgRef}\r\n      width=\"100%\"\r\n      height=\"100%\"\r\n      preserveAspectRatio=\"xMidYMid meet\"\r\n    />\r\n  )\r\n}\r\n\r\nexport default D3ConfusionMatrix\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/fe/octave-drift-detection/src/app/mode2/DriftWarningChart.tsx"],"sourcesContent":["'use client';\nimport React, { useEffect, useRef } from 'react';\nimport { Chart, registerables } from 'chart.js';\nChart.register(...registerables);\n\ninterface PlotDataPoint {\n  x: number;\n  y: number;\n  exceedsThreshold: boolean;\n}\n\ninterface DriftWarningChartProps {\n  plotData: PlotDataPoint[];\n}\n\nexport default function DriftWarningChart({ plotData }: DriftWarningChartProps): React.ReactElement {\n  const chartRef = useRef<Chart | null>(null);\n  const canvasRef = useRef<HTMLCanvasElement | null>(null);\n\n  useEffect(() => {\n    console.log('DriftWarningChart plotData length:', plotData.length);\n    if (!canvasRef.current) return;\n    const ctx = canvasRef.current.getContext('2d');\n    if (!ctx) return;\n\n    if (chartRef.current) {\n      chartRef.current.destroy();\n    }\n\n    chartRef.current = new Chart(ctx, {\n      type: 'scatter',\n      data: {\n        datasets: [\n          {\n            label: 'Drift State',\n            data: plotData.map((item) => ({ x: item.x, y: item.y })),\n            borderColor: 'rgb(75, 192, 192)',\n            backgroundColor: 'rgba(75, 192, 192, 0.8)',\n            pointBackgroundColor: plotData.map((item) => {\n              if (item.y === 0) return 'rgba(54, 162, 235, 0.8)'; // normal - blue\n              if (item.y === 1) return 'rgba(255, 206, 86, 0.8)'; // warning - yellow\n              if (item.y === 2) return 'rgba(255, 99, 132, 0.8)'; // drift - red\n              return 'rgba(201, 203, 207, 0.8)'; // default grey\n            }),\n            borderWidth: 2,\n            showLine: true,\n            tension: 0.1,\n            fill: false,\n            stepped: false,\n            pointRadius: 5,\n            pointHoverRadius: 7,\n          },\n        ],\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        plugins: {\n          legend: {\n            labels: {\n              color: '#e5e7eb',\n            },\n          },\n          tooltip: {\n            mode: 'nearest',\n            intersect: true,\n            callbacks: {\n              label: function(context) {\n                const y = context.parsed.y;\n                if (y === 0) return 'Normal';\n                if (y === 1) return 'Warning';\n                if (y === 2) return 'Drift';\n                return 'Unknown';\n              }\n            }\n          },\n        },\n        scales: {\n          x: {\n            type: 'linear',\n            title: {\n              display: true,\n              text: 'Index',\n              color: '#93c5fd',\n              font: {\n                weight: 'bold',\n              },\n            },\n            grid: {\n              color: 'rgba(255, 255, 255, 0.1)',\n            },\n            ticks: {\n              color: '#e5e7eb',\n              font: {\n                size: 12,\n              },\n            },\n          },\n          y: {\n            title: {\n              display: true,\n              text: 'Drift State',\n              color: '#93c5fd',\n              font: {\n                weight: 'bold',\n              },\n            },\n            beginAtZero: true,\n            ticks: {\n              stepSize: 1,\n              callback: function (this: any, tickValue: string | number) {\n                const value = typeof tickValue === 'string' ? parseInt(tickValue) : tickValue;\n                if (value === 0) return 'Normal';\n                if (value === 1) return 'Warning';\n                if (value === 2) return 'Drift';\n                return '';\n              },\n              color: '#e5e7eb',\n              font: {\n                size: 12,\n              },\n            },\n            grid: {\n              color: 'rgba(255, 255, 255, 0.1)',\n            },\n            min: 0,\n            max: 2,\n          },\n        },\n        animation: {\n          duration: 1000,\n          easing: 'easeInOutQuad',\n        },\n        elements: {\n          point: {\n            radius: 5,\n            hoverRadius: 7,\n          },\n        },\n      },\n    });\n\n    return () => {\n      if (chartRef.current) {\n        chartRef.current.destroy();\n        chartRef.current = null;\n      }\n    };\n  }, [plotData]);\n\n  return <canvas ref={canvasRef} style={{ width: '100%', height: '416px' }} />;\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 257, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/fe/octave-drift-detection/src/services/backendService3.ts"],"sourcesContent":["// services/backendService3.ts\n\nexport interface KPI {\n    rowKey: string;\n    value: string;\n    status?: string;\n  }\n  \n  export interface PlotDataPoint {\n    x: number;\n    y: number;\n    exceedsThreshold: boolean;\n    // `value` isn’t needed here, but you can add `value?: number` if you like\n  }\n  \n  export interface TableDataPoint {\n    id: string;\n    timePeriod: string;\n    status: string;\n  }\n  \n  export interface OutletsExceedingThreshold {\n    id: string;\n    y_true: number;\n    y_pred: number;\n    percentage_error: number;\n  }\n  \n  export interface DetailedMetric {\n    total_samples: number;\n    correct_predictions: { count: number; percentage: number };\n    incorrect_predictions: { count: number; percentage: number };\n    misclassifications: Record<string, { count: number; percentage: number }>;\n  }\n  \n  export async function fetchData(): Promise<{\n    kpis: KPI[];\n    errors: { plotData: PlotDataPoint[]; tableData: TableDataPoint[] };\n    referenceMatrix: number[][];\n    currentMatrix: number[][];\n    outletsExceedingThreshold: OutletsExceedingThreshold[];\n    detailedMetrics: Record<string, DetailedMetric>;\n    state: string;\n    coverage: any;\n    clusters: any;\n    backwardAnalysis: any;\n    currentPeriod: string;\n    totalOutlets: number;\n    outletsExceedingThresholdCount: number;\n    xaiExplanation: string;\n  }> {\n    try {\n      console.log(\"Fetching data from backend via relative URL: /mode4/data\");\n      const response = await fetch(`/mode4/data`, { credentials: \"include\" });\n      if (!response.ok) {\n        throw new Error(`HTTP error! Status: ${response.status}`);\n      }\n      const rawData = await response.json();\n      console.log(\"Parsed data:\", rawData);\n  \n      // 1) Build KPIs\n      const kpis: KPI[] = [\n        {\n          rowKey: \"Drift Detected\",\n          value: rawData.drift_state?.drift_detected ? \"Yes\" : \"No\",\n          status: rawData.drift_state?.drift_detected ? \"Alert\" : \"Normal\",\n        },\n        {\n          rowKey: \"Jensen–Shannon Divergence\",\n          value: rawData.drift_state?.jensen_shannon_divergence != null\n            ? rawData.drift_state.jensen_shannon_divergence.toFixed(4)\n            : \"N/A\",\n        },\n        {\n          rowKey: \"Population Stability Index\",\n          value: rawData.drift_state?.population_stability_index != null\n            ? rawData.drift_state.population_stability_index.toFixed(4)\n            : \"N/A\",\n        },\n        {\n          rowKey: \"Precision (Reference)\",\n          value: rawData.metrics?.reference?.precision != null\n            ? rawData.metrics.reference.precision.toFixed(4)\n            : \"N/A\",\n        },\n        {\n          rowKey: \"Precision (Current)\",\n          value: rawData.metrics?.current?.precision != null\n            ? rawData.metrics.current.precision.toFixed(4)\n            : \"N/A\",\n        },\n        {\n          rowKey: \"Recall (Reference)\",\n          value: rawData.metrics?.reference?.recall != null\n            ? rawData.metrics.reference.recall.toFixed(4)\n            : \"N/A\",\n        },\n        {\n          rowKey: \"Recall (Current)\",\n          value: rawData.metrics?.current?.recall != null\n            ? rawData.metrics.current.recall.toFixed(4)\n            : \"N/A\",\n        },\n        {\n          rowKey: \"F1 Score (Reference)\",\n          value: rawData.metrics?.reference?.f1_score != null\n            ? rawData.metrics.reference.f1_score.toFixed(4)\n            : \"N/A\",\n        },\n        {\n          rowKey: \"F1 Score (Current)\",\n          value: rawData.metrics?.current?.f1_score != null\n            ? rawData.metrics.current.f1_score.toFixed(4)\n            : \"N/A\",\n        },\n        {\n          rowKey: \"Accuracy\",\n          value: rawData.overall_metrics?.accuracy != null\n            ? rawData.overall_metrics.accuracy.toFixed(2)\n            : \"N/A\",\n        },\n        {\n          rowKey: \"Error Rate\",\n          value: rawData.overall_metrics?.error_rate != null\n            ? rawData.overall_metrics.error_rate.toFixed(2)\n            : \"N/A\",\n        },\n        {\n          rowKey: \"Status\",\n          value: rawData.drift_state?.drift_detected ? \"Warning\" : \"Normal\",\n          status: rawData.drift_state?.drift_detected ? \"Warning\" : \"Normal\",\n        },\n      ];\n  \n      // 2) Confusion matrices: raw → reference, normalized → current\n      const referenceMatrix: number[][] = rawData.confusion_matrix?.raw ?? [];\n      const currentMatrix: number[][] = rawData.confusion_matrix?.normalized ?? [];\n  \n      // 3) Build the drift/warning plot from indices\n      const plotData: PlotDataPoint[] = [];\n      const idx = rawData.indices ?? { normal: [], warning: [], drift: [] };\n      idx.normal.forEach((x: number) =>\n        plotData.push({ x, y: 0, exceedsThreshold: false })\n      );\n      idx.warning.forEach((x: number) =>\n        plotData.push({ x, y: 1, exceedsThreshold: false })\n      );\n      idx.drift.forEach((x: number) =>\n        plotData.push({ x, y: 2, exceedsThreshold: false })\n      );\n      plotData.sort((a, b) => a.x - b.x);\n  \n      // 4) Misclassified table\n      const tableData: TableDataPoint[] = (rawData.misclassified_table || []).map(\n        (item: any) => ({\n          id: item.id,\n          timePeriod: `True ${item.True} → Pred ${item.Predicted}`,\n          status: \"Misclassified\",\n        })\n      );\n  \n      // 5) Outlets exceeding threshold (still returned for BC)\n      const outletsExceedingThreshold: OutletsExceedingThreshold[] = (\n        rawData.outlets_exceeding_threshold || []\n      ).map((item: any) => ({\n        id: item.id?.toString() || \"\",\n        y_true: item.y_true || 0,\n        y_pred: item.y_pred || 0,\n        percentage_error: item.percentage_error || 0,\n      }));\n  \n      // 6) Detailed metrics\n      const detailedMetrics: Record<string, DetailedMetric> =\n        rawData.detailed_metrics || {};\n  \n      // 7) Other fields\n      return {\n        kpis,\n        errors: { plotData, tableData },\n        referenceMatrix,\n        currentMatrix,\n        outletsExceedingThreshold,\n        detailedMetrics,\n        state: rawData.state || \"Unknown\",\n        coverage: rawData.coverage || {},\n        clusters: rawData.clusters || {},\n        backwardAnalysis: rawData.backward_analysis || {},\n        currentPeriod: rawData.current_period || \"N/A\",\n        totalOutlets: rawData.total_outlets || 0,\n        outletsExceedingThresholdCount:\n          rawData.outlets_exceeding_threshold_count || 0,\n        xaiExplanation: rawData.xai?.explanation || \"No explanation available\",\n      };\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n      throw new Error(\"Failed to fetch and process data\");\n    }\n  }\n  "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 397, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/fe/octave-drift-detection/src/app/mode4/page.tsx"],"sourcesContent":["'use client'\n\nimport React, { useEffect, useState } from 'react'\nimport Head from 'next/head'\nimport D3ConfusionMatrix from '../../components/D3ConfusionMatrix'\nimport DriftWarningChart from '../mode2/DriftWarningChart'\nimport {\n  fetchData,\n  KPI,\n  PlotDataPoint,\n  TableDataPoint,\n} from '../../services/backendService3'\n\ninterface DetailedMetric {\n  total_samples: number\n  correct_predictions: { count: number; percentage: number }\n  incorrect_predictions: { count: number; percentage: number }\n  misclassifications: Record<string, { count: number; percentage: number }>\n}\n\nexport default function Mode4Page(): React.ReactElement {\n  const [businessUnit, setBusinessUnit] = useState('CCS')\n  const [useCase, setUseCase] = useState('CC-Di')\n\n  const [kpis, setKpis] = useState<KPI[]>([])\n  const [errors, setErrors] = useState<{ plotData: PlotDataPoint[]; tableData: TableDataPoint[] }>({\n    plotData: [],\n    tableData: [],\n  })\n\n  const [referenceMatrix, setReferenceMatrix] = useState<number[][]>([])\n  const [currentMatrix, setCurrentMatrix] = useState<number[][]>([])\n  const [detailedMetrics, setDetailedMetrics] = useState<Record<string, DetailedMetric>>({})\n\n  const [stateVal, setStateVal] = useState<string>('Unknown')\n  const [coverage, setCoverage] = useState<any>({})\n  const [clusters, setClusters] = useState<any>({})\n  const [backwardAnalysis, setBackwardAnalysis] = useState<any>({})\n  const [currentPeriod, setCurrentPeriod] = useState<string>('N/A')\n  const [totalOutlets, setTotalOutlets] = useState<number>(0)\n  const [outletsExceedingThresholdCount, setOutletsExceedingThresholdCount] = useState<number>(0)\n  const [xaiExplanation, setXaiExplanation] = useState<string>('No explanation available')\n\n  const [loading, setLoading] = useState<boolean>(true)\n\n  // build labels [\"0\",\"1\",…] for axes\n  const makeLabels = (n: number) => Array.from({ length: n }, (_, i) => i.toString())\n\n  // cap matrix square at 300px\n  const computeSquareSize = (grid: number[][]) => {\n    const maxPx = 300\n    const rows = grid.length\n    const cols = grid[0]?.length || 0\n    if (!rows || !cols) return maxPx\n    const cellSize = Math.min(maxPx / rows, maxPx / cols)\n    return Math.max(rows, cols) * cellSize\n  }\n\n  useEffect(() => {\n    async function init() {\n      setLoading(true)\n      try {\n        const savedBU = localStorage.getItem('businessUnit')\n        const savedUC = localStorage.getItem('useCase')\n        if (savedBU) setBusinessUnit(savedBU)\n        if (savedUC) setUseCase(savedUC)\n\n        const {\n          kpis: fetchedKpis,\n          errors: fetchedErrors,\n          referenceMatrix: fetchedRefM,\n          currentMatrix: fetchedCurrM,\n          detailedMetrics: fetchedDetailed,\n          state: fetchedState,\n          coverage: fetchedCoverage,\n          clusters: fetchedClusters,\n          backwardAnalysis: fetchedBackward,\n          currentPeriod: fetchedPeriod,\n          totalOutlets: fetchedTotal,\n          outletsExceedingThresholdCount: fetchedCount,\n          xaiExplanation: fetchedXai,\n        } = await fetchData()\n\n        setKpis(fetchedKpis)\n        setErrors(fetchedErrors)\n        setReferenceMatrix(fetchedRefM)\n        setCurrentMatrix(fetchedCurrM)\n        setDetailedMetrics(fetchedDetailed)\n        setStateVal(fetchedState)\n        setCoverage(fetchedCoverage)\n        setClusters(fetchedClusters)\n        setBackwardAnalysis(fetchedBackward)\n        setCurrentPeriod(fetchedPeriod)\n        setTotalOutlets(fetchedTotal)\n        setOutletsExceedingThresholdCount(fetchedCount)\n        setXaiExplanation(fetchedXai)\n      } catch (err) {\n        console.error('Error fetching data:', err)\n      } finally {\n        setLoading(false)\n      }\n    }\n    init()\n  }, [])\n\n  const handleBusinessUnitChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    const v = e.target.value\n    setBusinessUnit(v)\n    setUseCase('')\n    localStorage.setItem('businessUnit', v)\n  }\n  const handleUseCaseChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    const v = e.target.value\n    setUseCase(v)\n    localStorage.setItem('useCase', v)\n  }\n  const getUseCaseOptions = () => {\n    if (businessUnit === 'CCS') return ['CC-Di', 'CC-MT']\n    if (businessUnit === 'JMSL') return ['JM-Ch']\n    return []\n  }\n\n  return (\n    <div className=\"bg-gray-900 min-h-screen flex flex-col\">\n      <Head>\n        <title>Mode 4 | CL Dashboard</title>\n        <link\n          rel=\"stylesheet\"\n          href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css\"\n        />\n      </Head>\n      <main className=\"flex-grow container mx-auto px-4 py-8\">\n\n        {/* Header & selectors */}\n        <div className=\"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 mb-6 border border-gray-700\">\n          <h2 className=\"text-2xl font-semibold text-blue-300 mb-4\">OCTAVE - CL Dashboard</h2>\n          <p className=\"text-blue-200 mb-2\">\n            Current Period: {loading ? 'Loading...' : currentPeriod}\n          </p>\n          <p className=\"text-blue-200 mb-2\">\n            State: {loading ? 'Loading...' : stateVal}\n          </p>\n          <p className=\"text-blue-200 mb-2\">\n            Total Outlets: {loading ? 'Loading...' : totalOutlets}\n          </p>\n          <p className=\"text-blue-200 mb-2\">\n            Outlets Exceeding Threshold: {loading ? 'Loading...' : outletsExceedingThresholdCount}\n          </p>\n          <p className=\"text-blue-200 mb-2\">\n            Coverage – Total Points: {loading ? 'Loading...' : coverage.total_points ?? 'N/A'}\n          </p>\n          <p className=\"text-blue-200 mb-2\">\n            Coverage – Warning: {loading ? 'Loading...' : coverage.warning_coverage ?? 'N/A'}\n          </p>\n          <p className=\"text-blue-200 mb-2\">\n            Coverage – Drift: {loading ? 'Loading...' : coverage.drift_coverage ?? 'N/A'}\n          </p>\n          <p className=\"text-blue-200 mb-2\">\n            Backward Analysis – 10% Drift:{' '}\n            {loading ? 'Loading...' : backwardAnalysis.backward_10_percent_drift ? 'Yes' : 'No'}\n          </p>\n          <p className=\"text-blue-200 mb-2\">\n            Backward Analysis – 10% Warning:{' '}\n            {loading ? 'Loading...' : backwardAnalysis.backward_10_percent_warning ? 'Yes' : 'No'}\n          </p>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4\">\n            <div className=\"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50\">\n              <h3 className=\"text-lg font-medium text-blue-200 mb-2\">Business Unit</h3>\n              <select\n                className=\"w-full bg-gray-700 border-blue-600 rounded p-2 text-white\"\n                value={businessUnit}\n                onChange={handleBusinessUnitChange}\n              >\n                <option value=\"\">Select Business Unit</option>\n                <option value=\"CCS\">CCS</option>\n                <option value=\"JMSL\">JMSL</option>\n              </select>\n            </div>\n            <div className=\"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50\">\n              <h3 className=\"text-lg font-medium text-blue-200 mb-2\">Use Case</h3>\n              <select\n                className=\"w-full bg-gray-700 border-blue-600 rounded p-2 text-white\"\n                value={useCase}\n                onChange={handleUseCaseChange}\n                disabled={!businessUnit}\n              >\n                <option value=\"\">{businessUnit ? 'Select Use Case' : 'Select BU first'}</option>\n                {getUseCaseOptions().map(o => (\n                  <option key={o} value={o}>{o}</option>\n                ))}\n              </select>\n            </div>\n            <div className=\"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50\">\n              <h3 className=\"text-lg font-medium text-blue-200 mb-2\">Short Code</h3>\n              <input\n                type=\"text\"\n                value={useCase || '-'}\n                readOnly\n                className=\"w-full bg-gray-700 border-blue-600 rounded p-2 text-white\"\n              />\n            </div>\n            <div className=\"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50\">\n              <h3 className=\"text-lg font-medium text-blue-200 mb-2\">Runtime</h3>\n              <input\n                type=\"text\"\n                value=\"2h 45m\"\n                readOnly\n                className=\"w-full bg-gray-700 border-blue-600 rounded p-2 text-white\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* KPI Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6\">\n          {kpis\n            .filter(kpi => ![\n              'Jensen–Shannon Divergence',\n              'Population Stability Index',\n              'Precision (Reference)',\n              'Precision (Current)',\n              'Recall (Reference)',\n              'Recall (Current)',\n              'F1 Score (Reference)',\n              'F1 Score (Current)',\n            ].includes(kpi.rowKey))\n            .map(kpi => (\n              <div\n                key={kpi.rowKey}\n                className=\"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50\"\n              >\n                <h3 className=\"text-lg font-medium text-blue-200 mb-2\">{kpi.rowKey}</h3>\n                <p className={`text-xl ${\n                  kpi.status === 'Alert' || kpi.status === 'Warning' ? 'text-yellow-400'\n                  : kpi.status === 'Error' ? 'text-red-400'\n                  : 'text-green-400'\n                }`}>\n                  {loading ? 'Loading...' : kpi.value}\n                </p>\n              </div>\n            ))\n          }\n        </div>\n\n        {/* --- NEW: Drift / Warning Chart (before Confusion Matrix) --- */}\n        <div className=\"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 mb-6 border border-gray-700 h-80\">\n          <h2 className=\"text-2xl font-semibold text-blue-300 mb-4\">Drift & Warning Over Time</h2>\n          <DriftWarningChart plotData={errors.plotData} />\n        </div>\n\n        {/* Confusion Matrices */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\">\n          {[ \n            { title: 'Reference Matrix', grid: referenceMatrix },\n            { title: 'Current Matrix',   grid: currentMatrix   },\n          ].map(({ title, grid }, idx) => {\n            const side = computeSquareSize(grid)\n            return (\n              <div\n                key={idx}\n                className=\"bg-gray-800 rounded-xl shadow-md p-6 border border-gray-700 flex flex-col items-center\"\n              >\n                <h2 className=\"text-2xl font-semibold text-blue-300 mb-4\">{title}</h2>\n                {!loading && grid.length > 0 ? (\n                  <div style={{ width: side, height: side }}>\n                    <D3ConfusionMatrix\n                      data={grid}\n                      labels={makeLabels(grid[0].length)}\n                      width={side}\n                      height={side}\n                    />\n                  </div>\n                ) : (\n                  <div className=\"text-white\">Loading…</div>\n                )}\n              </div>\n            )\n          })}\n        </div>\n\n        {/* Detailed Metrics */}\n        <div className=\"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 mb-6 border border-gray-700\">\n          <h2 className=\"text-2xl font-semibold text-blue-300 mb-4\">Detailed Metrics by Class</h2>\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-700\">\n              <thead>\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-blue-200 uppercase\">Class</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-blue-200 uppercase\">Total</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-blue-200 uppercase\">Correct</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-blue-200 uppercase\">Incorrect</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-blue-200 uppercase\">Misclassifications</th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-gray-700\">\n                {loading ? (\n                  <tr>\n                    <td colSpan={5} className=\"px-6 py-4 text-center text-sm text-white\">Loading…</td>\n                  </tr>\n                ) : (\n                  Object.entries(detailedMetrics).map(([cls, dm]) => (\n                    <tr key={cls}>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-white\">{cls}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-white\">{dm.total_samples}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-white\">\n                        {dm.correct_predictions.count} ({dm.correct_predictions.percentage.toFixed(1)}%)\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-white\">\n                        {dm.incorrect_predictions.count} ({dm.incorrect_predictions.percentage.toFixed(1)}%)\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-white\">\n                        {Object.entries(dm.misclassifications)\n                          .map(([p, m]) => `${p}: ${m.count} (${m.percentage.toFixed(1)}%)`)\n                          .join(', ')}\n                      </td>\n                    </tr>\n                  ))\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        {/* XAI Explanation */}\n        <div className=\"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 mb-6 border border-gray-700\">\n          <h2 className=\"text-2xl font-semibold text-blue-300 mb-4\">XAI Result</h2>\n          <div className=\"space-y-3 text-white\">\n            {loading ? (\n              <p>Loading explanation...</p>\n            ) : xaiExplanation ? (\n              <div className=\"prose prose-invert\" dangerouslySetInnerHTML={{ __html: xaiExplanation }} />\n            ) : (\n              <p className=\"text-red-400\">No explanation available</p>\n            )}\n          </div>\n        </div>\n\n        {/* Misclassified Table (BOTTOM) */}\n        <div className=\"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 border border-gray-700\">\n          <h2 className=\"text-2xl font-semibold text-blue-300 mb-4\">Misclassified Table</h2>\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-700\">\n              <thead>\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-blue-200 uppercase\">ID</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-blue-200 uppercase\">True → Pred</th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-gray-700\">\n                {loading ? (\n                  <tr>\n                    <td colSpan={2} className=\"px-6 py-4 text-center text-sm text-white\">Loading…</td>\n                  </tr>\n                ) : errors.tableData.length > 0 ? (\n                  errors.tableData.map((r, i) => (\n                    <tr key={i} className=\"bg-red-900/10\">\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-white\">{r.id}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-red-300\">{r.timePeriod}</td>\n                    </tr>\n                  ))\n                ) : (\n                  <tr>\n                    <td colSpan={2} className=\"px-6 py-4 text-center text-sm text-white\">No misclassified data</td>\n                  </tr>\n                )}\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}