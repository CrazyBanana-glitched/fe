{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/fe/octave-drift-detection/src/services/backendService2.ts"],"sourcesContent":["// services/backendService2.ts\n\nexport interface KPI {\n  rowKey: string;\n  value: string;\n  status?: string;\n}\n\nexport interface PlotDataPoint {\n  x: number;\n  y: number;\n  value?: number;\n  exceedsThreshold: boolean;\n}\n\nexport interface TableDataPoint {\n  id: string;\n  timePeriod: string;\n  meanPrediction?: number;\n  error?: number;\n  percentageError?: number;\n  status: string;\n}\n\nexport interface OutletsExceedingThreshold {\n  id: string;\n  y_true: number;\n  y_pred: number;\n  percentage_error: number;\n}\n\nexport async function fetchData() {\n  try {\n    console.log(\"Fetching data from backend via relative URL: /mode3/data\");\n    const response = await fetch(`/mode3/data`, {\n      credentials: 'include',\n    });\n    if (!response.ok) {\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n\n    const rawData = await response.json();\n    console.log(\"Parsed data:\", rawData);\n\n    // 1) Build KPIs from drift_state, classification metrics, and overall metrics\n    const kpis: KPI[] = [\n      {\n        rowKey: \"Drift Detected\",\n        value: rawData.drift_state?.drift_detected ? \"Yes\" : \"No\",\n        status: rawData.drift_state?.drift_detected ? \"Alert\" : \"Normal\",\n      },\n      {\n        rowKey: \"Jensen–Shannon Divergence\",\n        value: rawData.drift_state?.jensen_shannon_divergence\n          ? rawData.drift_state.jensen_shannon_divergence.toFixed(4)\n          : \"N/A\",\n        status: \"Normal\",\n      },\n      {\n        rowKey: \"Population Stability Index\",\n        value: rawData.drift_state?.population_stability_index\n          ? rawData.drift_state.population_stability_index.toFixed(4)\n          : \"N/A\",\n        status: \"Normal\",\n      },\n      {\n        rowKey: \"Precision (Reference)\",\n        value: rawData.metrics?.reference?.precision\n          ? rawData.metrics.reference.precision.toFixed(4)\n          : \"N/A\",\n        status: \"Normal\",\n      },\n      {\n        rowKey: \"Precision (Current)\",\n        value: rawData.metrics?.current?.precision\n          ? rawData.metrics.current.precision.toFixed(4)\n          : \"N/A\",\n        status: \"Normal\",\n      },\n      {\n        rowKey: \"Recall (Reference)\",\n        value: rawData.metrics?.reference?.recall\n          ? rawData.metrics.reference.recall.toFixed(4)\n          : \"N/A\",\n        status: \"Normal\",\n      },\n      {\n        rowKey: \"Recall (Current)\",\n        value: rawData.metrics?.current?.recall\n          ? rawData.metrics.current.recall.toFixed(4)\n          : \"N/A\",\n        status: \"Normal\",\n      },\n      {\n        rowKey: \"F1 Score (Reference)\",\n        value: rawData.metrics?.reference?.f1_score\n          ? rawData.metrics.reference.f1_score.toFixed(4)\n          : \"N/A\",\n        status: \"Normal\",\n      },\n      {\n        rowKey: \"F1 Score (Current)\",\n        value: rawData.metrics?.current?.f1_score\n          ? rawData.metrics.current.f1_score.toFixed(4)\n          : \"N/A\",\n        status: \"Normal\",\n      },\n      {\n        rowKey: \"Accuracy\",\n        value: rawData.overall_metrics?.accuracy != null\n          ? rawData.overall_metrics.accuracy.toFixed(2)\n          : \"N/A\",\n        status: \"Normal\",\n      },\n      {\n        rowKey: \"Error Rate\",\n        value: rawData.overall_metrics?.error_rate != null\n          ? rawData.overall_metrics.error_rate.toFixed(2)\n          : \"N/A\",\n        status: \"Normal\",\n      },\n      {\n        rowKey: \"Status\",\n        value: rawData.drift_state?.drift_detected ? \"Warning\" : \"Normal\",\n        status: rawData.drift_state?.drift_detected ? \"Warning\" : \"Normal\",\n      },\n    ];\n\n    // 2) Select whichever confusion‐matrix is available (dynamic size)\n    const matrixCandidates: number[][][] = [\n      rawData.confusion_matrix?.normalized,\n      rawData.confusion_matrices?.percentage_difference,\n      rawData.confusion_matrices?.current,\n      rawData.confusion_matrices?.reference,\n      rawData.confusion_matrix?.raw,\n      rawData.confusion_matrices?.raw,\n    ].filter(Array.isArray) as number[][][];\n    const matrix: number[][] = matrixCandidates.length > 0 ? matrixCandidates[0] : [];\n\n    // 3) Flatten it into plotData for the chart\n    const plotData: PlotDataPoint[] = [];\n    matrix.forEach((row, y) => {\n      row.forEach((cellValue, x) => {\n        plotData.push({\n          x,\n          y,\n          value: cellValue,\n          exceedsThreshold: false, // or apply a threshold test here\n        });\n      });\n    });\n\n    // 4) Build the “error comparison” table from misclassified_table\n    const tableData: TableDataPoint[] = (rawData.misclassified_table || []).map((item: any) => ({\n      id: item.id,\n      timePeriod: `True ${item.True} → Pred ${item.Predicted}`,\n      status: \"Misclassified\",\n    }));\n\n    // 5) Outlets exceeding threshold (if present)\n    const outletsExceedingThreshold: OutletsExceedingThreshold[] =\n      (rawData.outlets_exceeding_threshold || []).map((item: any) => ({\n        id: item.id?.toString() || \"\",\n        y_true: item.y_true || 0,\n        y_pred: item.y_pred || 0,\n        percentage_error: item.percentage_error || 0,\n      }));\n\n    // 6) Other optional dashboard fields\n    const state = rawData.state || \"Unknown\";\n    const coverage = rawData.coverage || {};\n    const clusters = rawData.clusters || {};\n    const backwardAnalysis = rawData.backward_analysis || {};\n    const currentPeriod = rawData.current_period || \"N/A\";\n    const totalOutlets = rawData.total_outlets || 0;\n    const outletsExceedingThresholdCount = rawData.outlets_exceeding_threshold_count || 0;\n    const xaiExplanation = rawData.explanation || \"No explanation available\";\n\n    return {\n      kpis,\n      errors: { plotData, tableData },\n      outletsExceedingThreshold,\n      state,\n      coverage,\n      clusters,\n      backwardAnalysis,\n      currentPeriod,\n      totalOutlets,\n      outletsExceedingThresholdCount,\n      xaiExplanation,\n    };\n  } catch (error) {\n    console.error(\"Error fetching data:\", error);\n    throw new Error(\"Failed to fetch and process data\");\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 156, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/fe/octave-drift-detection/src/components/D3ConfusionMatrix.tsx"],"sourcesContent":["// components/D3ConfusionMatrix.tsx\r\nimport React, { useRef, useEffect } from 'react'\r\nimport { Chart, registerables } from 'chart.js'\r\nimport { MatrixController, MatrixElement } from 'chartjs-chart-matrix'\r\nimport 'chartjs-chart-matrix'\r\n\r\n// register core chart.js components and matrix controller\r\nChart.register(...registerables, MatrixController, MatrixElement)\r\n\r\ninterface D3ConfusionMatrixProps {\r\n  data: number[][]\r\n  labels: string[]\r\n  title: string\r\n  width: number\r\n  height: number\r\n}\r\n\r\nconst D3ConfusionMatrix: React.FC<D3ConfusionMatrixProps> = ({\r\n  data,\r\n  labels,\r\n  title,\r\n  width,\r\n  height\r\n}) => {\r\n  const canvasRef = useRef<HTMLCanvasElement>(null)\r\n\r\n  useEffect(() => {\r\n    if (!canvasRef.current) return\r\n    const ctx = canvasRef.current.getContext('2d')\r\n    if (!ctx) return\r\n\r\n    // destroy old instance if exists\r\n    const old: any = (canvasRef.current as any).chartInstance\r\n    if (old) old.destroy()\r\n\r\n    // flatten data into {x, y, v} points\r\n    const matrixData = data.flatMap((row, y) =>\r\n      row.map((v, x) => ({ x, y, v }))\r\n    )\r\n    const maxVal = Math.max(...matrixData.map(d => d.v))\r\n\r\n    interface MatrixDataPoint {\r\n      x: number\r\n      y: number\r\n      v: number\r\n    }\r\n\r\n    interface ChartCallbackContext {\r\n      chart: Chart\r\n      dataset: { data: MatrixDataPoint[] }\r\n      dataIndex: number\r\n    }\r\n\r\n    const chart = new Chart(ctx, {\r\n      type: 'matrix',\r\n      data: {\r\n      datasets: [\r\n        {\r\n        label: title,\r\n        data: matrixData,\r\n        backgroundColor: (ctx: ChartCallbackContext) => {\r\n          const dataPoint = ctx.dataset.data[ctx.dataIndex]\r\n          if (!dataPoint) return 'rgba(54, 162, 235, 0)'\r\n          const val = dataPoint.v\r\n          const alpha = maxVal > 0 ? val / maxVal : 0\r\n          return `rgba(54, 162, 235, ${alpha})`\r\n        },\r\n        width: ({ chart }: { chart: Chart }) => {\r\n          if (!chart.chartArea) return 0\r\n          return (chart.chartArea.right - chart.chartArea.left) / labels.length - 1\r\n        },\r\n        height: ({ chart }: { chart: Chart }) => {\r\n          if (!chart.chartArea) return 0\r\n          return (chart.chartArea.bottom - chart.chartArea.top) / labels.length - 1\r\n        }\r\n        }\r\n      ]\r\n      },\r\n      options: {\r\n      responsive: false,\r\n      maintainAspectRatio: false,\r\n      scales: {\r\n        x: {\r\n        type: 'category',\r\n        labels,\r\n        offset: true,\r\n        grid: { display: false }\r\n        },\r\n        y: {\r\n        type: 'category',\r\n        labels: [...labels].reverse(),\r\n        offset: true,\r\n        grid: { display: false }\r\n        }\r\n      },\r\n      plugins: {\r\n        tooltip: {\r\n        callbacks: {\r\n          title: () => title,\r\n          label: (ctx: { dataset: { data: MatrixDataPoint[] }; dataIndex: number }) => {\r\n          const d = ctx.dataset.data[ctx.dataIndex]\r\n          const trueLabel = labels[labels.length - 1 - d.y]\r\n          const predLabel = labels[d.x]\r\n          return `${trueLabel} → ${predLabel}: ${d.v}`\r\n          }\r\n        }\r\n        },\r\n        legend: { display: false }\r\n      }\r\n      }\r\n    })\r\n\r\n    ;(canvasRef.current as any).chartInstance = chart\r\n  }, [data, labels, title])\r\n\r\n  return (\r\n    <canvas\r\n      ref={canvasRef}\r\n      width={width}\r\n      height={height}\r\n      className=\"w-full h-full\"\r\n    />\r\n  )\r\n}\r\n\r\nexport default D3ConfusionMatrix\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 278, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/fe/octave-drift-detection/src/app/mode3/page.tsx"],"sourcesContent":["'use client'\n\nimport React, { useEffect, useState } from 'react'\nimport 'chartjs-chart-matrix'\nimport Head from 'next/head'\nimport { fetchData } from '../../services/backendService2'\nimport D3ConfusionMatrix from '../../components/D3ConfusionMatrix'\n\ninterface KPI {\n  rowKey: string\n  value: string\n  status?: string\n}\n\ninterface PlotDataPoint {\n  x: number\n  y: number\n  value?: number\n  exceedsThreshold: boolean\n}\n\ninterface TableDataPoint {\n  id: string\n  timePeriod: string\n  status: string\n}\n\ninterface OutletsExceedingThreshold {\n  id: string\n  y_true: number\n  y_pred: number\n  percentage_error: number\n}\n\ninterface Coverage {\n  total_points?: number\n  warning_coverage?: number\n  drift_coverage?: number\n}\n\ninterface Clusters {\n  warning?: string[]\n  drift?: string[]\n  combined?: string[]\n}\n\ninterface BackwardAnalysis {\n  backward_10_percent_drift?: boolean\n  backward_10_percent_warning?: boolean\n}\n\ninterface ErrorDataResponse {\n  plotData: PlotDataPoint[]\n  tableData: TableDataPoint[]\n}\n\nexport default function Mode3Page(): JSX.Element {\n  const [businessUnit, setBusinessUnit] = useState('CCS')\n  const [useCase, setUseCase] = useState('CC-Di')\n  const [kpis, setKpis] = useState<KPI[]>([])\n  const [errors, setErrors] = useState<ErrorDataResponse>({ plotData: [], tableData: [] })\n  const [outletsExceedingThreshold, setOutletsExceedingThreshold] = useState<OutletsExceedingThreshold[]>([])\n  const [stateVal, setStateVal] = useState('Unknown')\n  const [coverage, setCoverage] = useState<Coverage>({})\n  const [clusters, setClusters] = useState<Clusters>({})\n  const [backwardAnalysis, setBackwardAnalysis] = useState<BackwardAnalysis>({})\n  const [currentPeriod, setCurrentPeriod] = useState('N/A')\n  const [totalOutlets, setTotalOutlets] = useState(0)\n  const [outletsExceedingThresholdCount, setOutletsExceedingThresholdCount] = useState(0)\n  const [xaiExplanation, setXaiExplanation] = useState('No explanation available')\n  const [loading, setLoading] = useState(true)\n\n  // for drawing the heatmap\n  const [confusionGrid, setConfusionGrid] = useState<number[][]>([])\n  const [labels, setLabels] = useState<string[]>([])\n\n  useEffect(() => {\n    async function init() {\n      setLoading(true)\n      try {\n        const savedBU = localStorage.getItem('businessUnit')\n        const savedUC = localStorage.getItem('useCase')\n        if (savedBU) setBusinessUnit(savedBU)\n        if (savedUC) setUseCase(savedUC)\n\n        const {\n          kpis: fetchedKpis,\n          errors: fetchedErrors,\n          outletsExceedingThreshold: fetchedOutlets,\n          state: fetchedState,\n          coverage: fetchedCoverage,\n          clusters: fetchedClusters,\n          backwardAnalysis: fetchedBackwardAnalysis,\n          currentPeriod: fetchedCurrentPeriod,\n          totalOutlets: fetchedTotalOutlets,\n          outletsExceedingThresholdCount: fetchedOutletsExceedingThresholdCount,\n          xaiExplanation: fetchedXai\n        } = await fetchData()\n\n        setKpis(fetchedKpis)\n        setErrors(fetchedErrors)\n        setOutletsExceedingThreshold(fetchedOutlets)\n        setStateVal(fetchedState)\n        setCoverage(fetchedCoverage)\n        setClusters(fetchedClusters)\n        setBackwardAnalysis(fetchedBackwardAnalysis)\n        setCurrentPeriod(fetchedCurrentPeriod)\n        setTotalOutlets(fetchedTotalOutlets)\n        setOutletsExceedingThresholdCount(fetchedOutletsExceedingThresholdCount)\n        setXaiExplanation(fetchedXai)\n\n        // rebuild confusion matrix grid from plotData\n        const xs = fetchedErrors.plotData.map(p => p.x)\n        const ys = fetchedErrors.plotData.map(p => p.y)\n        const maxX = xs.length ? Math.max(...xs) : 0\n        const maxY = ys.length ? Math.max(...ys) : 0\n        const grid: number[][] = Array.from({ length: maxY + 1 }, () =>\n          Array(maxX + 1).fill(0)\n        )\n        fetchedErrors.plotData.forEach(pt => {\n          grid[pt.y][pt.x] = pt.value ?? 0\n        })\n        setConfusionGrid(grid)\n        setLabels(Array.from({ length: maxX + 1 }, (_, i) => i.toString()))\n      } catch (err) {\n        console.error('Error fetching data:', err)\n      } finally {\n        setLoading(false)\n      }\n    }\n    init()\n  }, [])\n\n  const handleBusinessUnitChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    const v = e.target.value\n    setBusinessUnit(v)\n    setUseCase('')\n    localStorage.setItem('businessUnit', v)\n  }\n  const handleUseCaseChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n    const v = e.target.value\n    setUseCase(v)\n    localStorage.setItem('useCase', v)\n  }\n  const getUseCaseOptions = () => {\n    if (businessUnit === 'CCS') return ['CC-Di', 'CC-MT']\n    if (businessUnit === 'JMSL') return ['JM-Ch']\n    return []\n  }\n\n  return (\n    <div className=\"bg-gray-900 min-h-screen flex flex-col\">\n      <Head>\n        <title>Mode 3 | CL Dashboard</title>\n        <link\n          rel=\"stylesheet\"\n          href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css\"\n        />\n      </Head>\n      <main className=\"flex-grow container mx-auto px-4 py-8\">\n\n        {/* Header Metrics */}\n        <div className=\"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 mb-6 border border-gray-700\">\n          <h2 className=\"text-2xl font-semibold text-blue-300 mb-4\">\n            OCTAVE - CL Dashboard\n          </h2>\n          <p className=\"text-blue-200 mb-2\">\n            Current Period: {loading ? 'Loading...' : currentPeriod}\n          </p>\n          <p className=\"text-blue-200 mb-2\">\n            State: {loading ? 'Loading...' : stateVal}\n          </p>\n          <p className=\"text-blue-200 mb-2\">\n            Total Outlets: {loading ? 'Loading...' : totalOutlets}\n          </p>\n          <p className=\"text-blue-200 mb-2\">\n            Outlets Exceeding Threshold:{' '}\n            {loading ? 'Loading...' : outletsExceedingThresholdCount}\n          </p>\n          <p className=\"text-blue-200 mb-2\">\n            Coverage – Total Points:{' '}\n            {loading ? 'Loading...' : coverage.total_points ?? 'N/A'}\n          </p>\n          <p className=\"text-blue-200 mb-2\">\n            Coverage – Warning:{' '}\n            {loading ? 'Loading...' : coverage.warning_coverage ?? 'N/A'}\n          </p>\n          <p className=\"text-blue-200 mb-2\">\n            Coverage – Drift:{' '}\n            {loading ? 'Loading...' : coverage.drift_coverage ?? 'N/A'}\n          </p>\n          <p className=\"text-blue-200 mb-2\">\n            Backward Analysis – 10% Drift:{' '}\n            {loading\n              ? 'Loading...'\n              : backwardAnalysis.backward_10_percent_drift\n              ? 'Yes'\n              : 'No'}\n          </p>\n          <p className=\"text-blue-200 mb-2\">\n            Backward Analysis – 10% Warning:{' '}\n            {loading\n              ? 'Loading...'\n              : backwardAnalysis.backward_10_percent_warning\n              ? 'Yes'\n              : 'No'}\n          </p>\n\n          {/* Business Unit / Use Case */}\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4\">\n            <div className=\"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50\">\n              <h3 className=\"text-lg font-medium text-blue-200 mb-2\">\n                Business Unit\n              </h3>\n              <select\n                className=\"w-full bg-gray-700 border-blue-600 rounded p-2 text-white\"\n                value={businessUnit}\n                onChange={handleBusinessUnitChange}\n              >\n                <option value=\"\">Select Business Unit</option>\n                <option value=\"CCS\">CCS</option>\n                <option value=\"JMSL\">JMSL</option>\n              </select>\n            </div>\n            <div className=\"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50\">\n              <h3 className=\"text-lg font-medium text-blue-200 mb-2\">\n                Use Case\n              </h3>\n              <select\n                className=\"w-full bg-gray-700 border-blue-600 rounded p-2 text-white\"\n                value={useCase}\n                onChange={handleUseCaseChange}\n                disabled={!businessUnit}\n              >\n                <option value=\"\">\n                  {businessUnit\n                    ? 'Select Use Case'\n                    : 'Select Business Unit first'}\n                </option>\n                {getUseCaseOptions().map(o => (\n                  <option key={o} value={o}>\n                    {o}\n                  </option>\n                ))}\n              </select>\n            </div>\n            <div className=\"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50\">\n              <h3 className=\"text-lg font-medium text-blue-200 mb-2\">\n                Short Code\n              </h3>\n              <input\n                type=\"text\"\n                value={useCase || '-'}\n                readOnly\n                className=\"w-full bg-gray-700 border-blue-600 rounded p-2 text-white\"\n              />\n            </div>\n            <div className=\"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50\">\n              <h3 className=\"text-lg font-medium text-blue-200 mb-2\">\n                Runtime\n              </h3>\n              <input\n                type=\"text\"\n                value=\"2h 45m\"\n                readOnly\n                className=\"w-full bg-gray-700 border-blue-600 rounded p-2 text-white\"\n              />\n            </div>\n          </div>\n        </div>\n\n        {/* KPI Cards */}\n        <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6\">\n          {kpis.map(kpi => (\n            <div\n              key={kpi.rowKey}\n              className=\"bg-blue-900/30 p-4 rounded-lg border border-blue-800/50\"\n            >\n              <h3 className=\"text-lg font-medium text-blue-200 mb-2\">\n                {kpi.rowKey}\n              </h3>\n              <p\n                className={`text-xl ${\n                  kpi.status === 'Alert'\n                    ? 'text-yellow-400'\n                    : kpi.status === 'Warning'\n                    ? 'text-yellow-400'\n                    : kpi.status === 'Error'\n                    ? 'text-red-400'\n                    : 'text-green-400'\n                }`}\n              >\n                {loading ? 'Loading...' : kpi.value}\n              </p>\n            </div>\n          ))}\n        </div>\n\n        {/* Confusion Matrix Heatmap */}\n        <div className=\"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 mb-6 border border-gray-700\">\n          <h2 className=\"text-2xl font-semibold text-blue-300 mb-4\">\n            Confusion Matrix\n          </h2>\n          <div className=\"h-64 bg-gray-700 rounded p-4\">\n            {loading ? (\n              <div className=\"flex items-center justify-center h-full\">\n                <div className=\"text-white\">Loading matrix...</div>\n              </div>\n            ) : (\n              <D3ConfusionMatrix\n                data={confusionGrid}\n                labels={labels}\n                title=\"Confusion Matrix\"\n                width={500}\n                height={500}\n              />\n            )}\n          </div>\n        </div>\n\n        {/* Misclassified Table & Outlets Exceeding */}\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\">\n          {/* Misclassified */}\n          <div className=\"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 border border-gray-700\">\n            <h2 className=\"text-2xl font-semibold text-blue-300 mb-4\">\n              Misclassified Table\n            </h2>\n            <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full divide-y divide-gray-700\">\n                <thead>\n                  <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-blue-200 uppercase tracking-wider\">\n                      ID\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-blue-200 uppercase tracking-wider\">\n                      True → Pred\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"divide-y divide-gray-700\">\n                  {loading ? (\n                    <tr>\n                      <td\n                        colSpan={2}\n                        className=\"px-6 py-4 text-center text-sm text-white\"\n                      >\n                        Loading…\n                      </td>\n                    </tr>\n                  ) : errors.tableData.length > 0 ? (\n                    errors.tableData.map((r, i) => (\n                      <tr key={i} className=\"bg-red-900/10\">\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-white\">\n                          {r.id}\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-red-300\">\n                          {r.timePeriod}\n                        </td>\n                      </tr>\n                    ))\n                  ) : (\n                    <tr>\n                      <td\n                        colSpan={2}\n                        className=\"px-6 py-4 text-center text-sm text-white\"\n                      >\n                        No misclassified data\n                      </td>\n                    </tr>\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </div>\n\n          {/* Outlets Exceeding */}\n          <div className=\"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 border border-gray-700\">\n            <h2 className=\"text-2xl font-semibold text-red-300 mb-4\">\n              Outlets Exceeding Threshold\n            </h2>\n            <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full divide-y divide-red-800/50\">\n                <thead>\n                  <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-red-200 uppercase tracking-wider\">\n                      ID\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-red-200 uppercase tracking-wider\">\n                      True\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-red-200 uppercase tracking-wider\">\n                      Pred\n                    </th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-red-200 uppercase tracking-wider\">\n                      % Error\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"divide-y divide-red-800/50\">\n                  {loading ? (\n                    <tr>\n                      <td\n                        colSpan={4}\n                        className=\"px-6 py-4 text-center text-sm text-white\"\n                      >\n                        Loading…\n                      </td>\n                    </tr>\n                  ) : outletsExceedingThreshold.length > 0 ? (\n                    outletsExceedingThreshold.map(o => (\n                      <tr key={o.id}>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-white\">\n                          {o.id}\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-white\">\n                          {o.y_true.toFixed(2)}\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-white\">\n                          {o.y_pred.toFixed(2)}\n                        </td>\n                        <td className=\"px-6 py-4 whitespace-nowrap text-sm text-red-400\">\n                          {o.percentage_error.toFixed(2)}%\n                        </td>\n                      </tr>\n                    ))\n                  ) : (\n                    <tr>\n                      <td\n                        colSpan={4}\n                        className=\"px-6 py-4 text-center text-sm text-white\"\n                      >\n                        None\n                      </td>\n                    </tr>\n                  )}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n\n        {/* XAI Explanation */}\n        <div className=\"bg-gray-800 rounded-xl shadow-md overflow-hidden p-6 mb-6 border border-gray-700\">\n          <h2 className=\"text-2xl font-semibold text-blue-300 mb-4\">\n            XAI Result\n          </h2>\n          <div className=\"space-y-3 text-white\">\n            {loading ? (\n              <p>Loading explanation...</p>\n            ) : xaiExplanation ? (\n              <div\n                className=\"prose prose-invert\"\n                dangerouslySetInnerHTML={{ __html: xaiExplanation }}\n              />\n            ) : (\n              <p className=\"text-red-400\">No explanation available</p>\n            )}\n          </div>\n        </div>\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}